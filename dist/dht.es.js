var e=require("node-dht-sensor"),t=require("webthing"),r=t.Thing,i=t.Value,n=t.Property,p={id:"urn:dev:ops:dht-22-sensor",name:"DHT-22",description:"Ambient temperature & humidity sensor",interval:3e3,sensor:{type:22,pin:4},properties:{temperature:{"@type":"TemperatureProperty",title:"Temperature",type:"number",description:"The ambient temperature measured in Â°C",unit:"degree celcius",readOnly:!0},humidity:{"@type":"HumidityProperty",title:"Humidity",type:"number",description:"The current relative humidity in %",minimum:0,maximum:100,unit:"percent",readOnly:!0}}},u=function(e){void 0===e&&(e=p),this.opt=e};u.prototype.init=function(){var e=this,t=this.opt,p=t.properties,u=t.interval,o=new r(t.id,t.name,["Temperature","Humidity"],t.description),a=new i(0),d=new i(0);return o.addProperty(new n(o,"temperature",a,p.temperature)),o.addProperty(new n(o,"humidity",d,p.humidity)),setInterval(function(){try{var t=e.read(),r=t.humidity;a.notifyOfExternalUpdate(t.temperature),d.notifyOfExternalUpdate(r)}catch(e){console.log(e)}},u),o},u.prototype.read=function(){var t=this.opt.sensor;return e.read(t.type,t.pin)},module.exports=u;
//# sourceMappingURL=dht.es.js.map
